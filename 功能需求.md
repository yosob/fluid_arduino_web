# 硬件定义

我的所有引脚定义在“config.h”文件中，请根据这个硬件引脚定义进行程序的编写

# 需求定义

我的 arduino 程序需求如下：
a. 使用模式切换开关进行 offline 和 online 的切换，高电平的时候是 online，低电平的时候是 offline

## offline 的模式功能如下：

1. 根据控制开关的状态，控制每个通道当前是气泵工作还是液泵工作还是都不工作，这个开关在物理上不会出现竞争关系。开关的逻辑是高电平为对应部件需要工作，外部已经有下拉电阻。
2. 根据功率调节引脚的 adc 采样，控制每个通道的功率
3. 所有泵引脚使用 pwm 进行控制

## online 的模式功能如下：

1. 使用串口与 web 上位机通讯，每个通道的工作状态由上位机控制，硬件的控制开关全部无效，ADC 也无效
2. 控制每个通道的工作状态，每个通道同一时间最多只有一个泵能进行工作
3. 设置每个泵的功率
4. 查看每个通道、每个泵的当前状态，包括设置的功率和是否在运行。

# web 上位机需求

1. 使用 webserial 与 arduino 通讯，通讯速率为 115200
2. 有 UI 具象出两个通道，每个通道有 3 个泵，每个泵有工作和停止的状态，下方有数字说明当前这个泵的 PWM 占空比（0-255），点击这个泵就能让它按照这个占空比工作或者是停止
