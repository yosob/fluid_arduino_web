# å¯è§†åŒ–æ—¶é—´è½´ç¼–ç¨‹åŠŸèƒ½ - è®¾è®¡è§„åˆ’

**ç‰ˆæœ¬**: v1.6 è§„åˆ’
**åˆ›å»ºæ—¥æœŸ**: 2025-01-15
**å‚è€ƒ**: ACM CHI 2022 è®ºæ–‡ - "It Puts Life into My Creations"

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

### æ ¸å¿ƒç†å¿µ

å°†ç°æœ‰çš„**å¾ªç¯æ¨¡å¼**å‡çº§ä¸º**å¯è§†åŒ–æ—¶é—´è½´ç¼–ç¨‹ç•Œé¢**ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿï¼š

1. **ç›´è§‚è®¾è®¡** - åœ¨æ—¶é—´è½´ä¸Šæ‹–æ‹½ã€ç‚¹å‡»è®¾è®¡æ³µçš„å·¥ä½œçŠ¶æ€
2. **å®æ—¶é¢„è§ˆ** - ç«‹å³çœ‹åˆ°æ•´ä¸ªæ—¶é—´çº¿çš„çŠ¶æ€å˜åŒ–
3. **ç®€å•æ‰§è¡Œ** - ä¸€é”®æ‰§è¡Œï¼Œç³»ç»Ÿè‡ªåŠ¨æŒ‰æ—¶é—´é¡ºåºå‘é€å‘½ä»¤
4. **å¯è§†åŒ–åé¦ˆ** - æ‰§è¡Œæ—¶å®æ—¶æ˜¾ç¤ºå½“å‰è¿›åº¦å’ŒçŠ¶æ€

### ä¸ç°æœ‰åŠŸèƒ½çš„å…³ç³»

```
ç°æœ‰åŠŸèƒ½ (v1.5)
â”œâ”€ æŒ‡ä»¤æ¨¡å¼ï¼šæ‰‹åŠ¨æ§åˆ¶å•ä¸ªæ³µ
â””â”€ å¾ªç¯æ¨¡å¼ï¼šåˆ—è¡¨å¼æ·»åŠ æ—¶åºæŒ‡ä»¤

æ–°å¢åŠŸèƒ½ (v1.6 è§„åˆ’)
â””â”€ æ—¶é—´è½´æ¨¡å¼ï¼šå¯è§†åŒ–ç¼–ç¨‹ç•Œé¢ â­ NEW

ä¸‰ç§æ¨¡å¼äº’è¡¥ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚
```

---

## ğŸ¨ UI è®¾è®¡

### é¡µé¢ç»“æ„ï¼ˆæ–°å¢ç¬¬ä¸‰ä¸ªé€‰é¡¹å¡ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¶²åŠ¨æ§åˆ¶ç³»ç»Ÿ v1.6                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚ğŸ®è®¾å¤‡æ§åˆ¶â”‚ğŸ“‹å›ºä»¶å‡çº§â”‚â±ï¸æ—¶é—´è½´  â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¶é—´è½´ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â±ï¸ å¯è§†åŒ–æ—¶é—´è½´ç¼–ç¨‹                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“Š æ—¶é—´è½´è®¾ç½®                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ æ—¶é—´è½´æ€»é•¿: [10ç§’] â–¼  å¾ªç¯æ¬¡æ•°: [3æ¬¡]  é—´éš”: [0.5ç§’]  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ é€šé“1: ğŸ’¨æ°”æ³µ ğŸ’§æ¶²æ³µ1 ğŸ’§æ¶²æ³µ2                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  0s    2s    4s    6s    8s    10s                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚     â”‚     â”‚     â”‚     â”‚     â”‚                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â–Œâ”€â”€â”€â”€â”€â–Œâ”€â”€â”€â”€â”€â–Œâ”€â”€â”€â”€â”€â–Œâ”€â”€â”€â”€â”€â–Œâ”€â”€â”€â”€â”€â–Œ                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  [â–“â–“â–“â–‘â–‘][â–“â–“â–“â–‘â–‘][â–‘â–‘â–‘â–‘â–‘][â–“â–“â–“â–“â–“][â–“â–“â–“â–‘â–‘]              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   PWM150  PWM200   OFF    PWM180  PWM150             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ ç‚¹å‡»ç¼–è¾‘æ—¶é—´æ®µ                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ æ‹–æ‹½è°ƒæ•´æ—¶é—´è¾¹ç•Œ                                â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ é€šé“2: ğŸ’¨æ°”æ³µ ğŸ’§æ¶²æ³µ1 ğŸ’§æ¶²æ³µ2                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  (åŒæ ·çš„æ—¶é—´è½´å¸ƒå±€)                                  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ¬ æ§åˆ¶é¢æ¿                                                â”‚   â”‚
â”‚  â”‚  [â–¶ï¸ æ‰§è¡Œ] [â¸ï¸ æš‚åœ] [â¹ï¸ åœæ­¢] [ğŸ”„ é‡ç½®] [ğŸ’¾ ä¿å­˜] [ğŸ“‚ åŠ è½½] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“Š æ‰§è¡Œè¿›åº¦                                                â”‚   â”‚
â”‚  â”‚  å½“å‰è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40% (ç¬¬2æ®µ / å…±5æ®µ)                 â”‚   â”‚
â”‚  â”‚  å½“å‰å¾ªç¯: ç¬¬2æ¬¡ / å…±3æ¬¡                                    â”‚   â”‚
â”‚  â”‚  å‰©ä½™æ—¶é—´: 00:06                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒäº¤äº’è®¾è®¡

### 1. æ—¶é—´è½´ç¼–è¾‘

#### ç‚¹å‡»ç¼–è¾‘
```
ç”¨æˆ·æ“ä½œï¼š
1. ç‚¹å‡»æ—¶é—´è½´ä¸Šçš„æŸä¸ªæ—¶é—´æ®µå—
2. å¼¹å‡ºç¼–è¾‘å¯¹è¯æ¡†
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ç¼–è¾‘æ—¶é—´æ®µ                  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ å¼€å§‹æ—¶é—´: [2.0s]            â”‚
   â”‚ ç»“æŸæ—¶é—´: [4.0s]            â”‚
   â”‚                             â”‚
   â”‚ é€‰æ‹©å·¥ä½œæ³µ:                 â”‚
   â”‚ â—‹ ğŸ’¨ æ°”æ³µ                   â”‚
   â”‚ â— ğŸ’§ æ¶²æ³µ1                  â”‚
   â”‚ â—‹ ğŸ’§ æ¶²æ³µ2                  â”‚
   â”‚ â—‹ â¹ï¸ åœæ­¢                   â”‚
   â”‚                             â”‚
   â”‚ PWMå€¼: [â”â”â”â—â”â”] 180        â”‚
   â”‚                             â”‚
   â”‚ [å–æ¶ˆ] [ä¿å­˜] [åˆ é™¤æ®µ]      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
3. ä¿å­˜åæ—¶é—´è½´ç«‹å³æ›´æ–°
```

#### æ‹–æ‹½è°ƒæ•´
```
ç”¨æˆ·æ“ä½œï¼š
1. é¼ æ ‡æ‚¬åœåœ¨æ—¶é—´æ®µè¾¹ç•Œ
2. å…‰æ ‡å˜ä¸º â†”ï¸ è°ƒæ•´å¤§å°
3. æ‹–æ‹½è°ƒæ•´æ—¶é—´æ®µé•¿åº¦
4. å®æ—¶æ˜¾ç¤ºæ—¶é—´å€¼
```

#### æ‹–æ‹½ç§»åŠ¨
```
ç”¨æˆ·æ“ä½œï¼š
1. é¼ æ ‡æ‚¬åœåœ¨æ—¶é—´æ®µä¸­é—´
2. å…‰æ ‡å˜ä¸º âœ‹ ç§»åŠ¨
3. æ‹–æ‹½ç§»åŠ¨æ—¶é—´æ®µ
4. è‡ªåŠ¨å¸é™„åˆ°0.5ç§’ç½‘æ ¼
```

### 2. æ—¶é—´è½´ç¼©æ”¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ”-] [1x] [ğŸ”+]                      â”‚
â”‚                                         â”‚
â”‚ 1x: æ˜¾ç¤ºå®Œæ•´æ—¶é—´è½´                      â”‚
â”‚ 2x: æ”¾å¤§2å€ï¼Œç²¾ç¡®ç¼–è¾‘                    â”‚
â”‚ 4x: æ”¾å¤§4å€ï¼Œè¶…ç²¾ç»†ç¼–è¾‘                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å¤šé€šé“åŒæ­¥

```
æ˜¾ç¤ºæ¨¡å¼ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§†å›¾: â—‹ ç‹¬ç«‹è§†å›¾  â— åŒæ­¥è§†å›¾            â”‚
â”‚                                         â”‚
â”‚ ç‹¬ç«‹è§†å›¾: æ¯ä¸ªé€šé“å•ç‹¬æ˜¾ç¤º              â”‚
â”‚ åŒæ­¥è§†å›¾: æ‰€æœ‰é€šé“å‚ç›´å¯¹é½ï¼Œæ–¹ä¾¿å¯¹æ¯”    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç»„ä»¶è®¾è®¡

```
TimelinePage.vue (æ–°å¢ä¸»é¡µé¢)
â”œâ”€ TimelineConfig.vue        # æ—¶é—´è½´é…ç½®ï¼ˆæ€»é•¿ã€å¾ªç¯æ¬¡æ•°ï¼‰
â”œâ”€ ChannelTimeline.vue       # å•ä¸ªé€šé“çš„æ—¶é—´è½´
â”‚  â”œâ”€ TimeSegment.vue        # æ—¶é—´æ®µå—
â”‚  â”‚  â””â”€ SegmentEditor.vue   # æ®µç¼–è¾‘å¯¹è¯æ¡†
â”‚  â””â”€ TimeRuler.vue          # æ—¶é—´åˆ»åº¦å°º
â”œâ”€ TimelineControls.vue      # æ’­æ”¾æ§åˆ¶æŒ‰é’®
â”œâ”€ ProgressDisplay.vue       # æ‰§è¡Œè¿›åº¦æ˜¾ç¤º
â””â”€ TimelineStateManager.vue  # çŠ¶æ€ç®¡ç†ï¼ˆæ–°å¢ Storeï¼‰
```

### æ–°å¢ Pinia Store

```javascript
// stores/timeline.js
export const useTimelineStore = defineStore('timeline', {
  state: () => ({
    // æ—¶é—´è½´é…ç½®
    config: {
      totalDuration: 10,    // æ€»æ—¶é•¿ï¼ˆç§’ï¼‰
      loopCount: 3,         // å¾ªç¯æ¬¡æ•°
      interval: 0.5,        // æ—¶é—´é—´éš”ï¼ˆç§’ï¼‰
      gridSize: 0.5         // ç½‘æ ¼å¤§å°ï¼ˆç§’ï¼‰
    },

    // é€šé“æ—¶é—´è½´æ•°æ®
    channels: {
      ch1: [
        { id: 1, start: 0, end: 2, pump: 'air', pwm: 150 },
        { id: 2, start: 2, end: 4, pump: 'water1', pwm: 200 },
        { id: 3, start: 4, end: 6, pump: 'off', pwm: 0 },
        // ...
      ],
      ch2: [
        // ç±»ä¼¼ç»“æ„
      ]
    },

    // æ‰§è¡ŒçŠ¶æ€
    execution: {
      isRunning: false,
      isPaused: false,
      currentLoop: 0,
      currentSegment: null,
      startTime: null,
      progress: 0
    }
  })
})
```

### æ ¸å¿ƒç®—æ³•

#### æ—¶é—´æ®µæ‰§è¡Œå¼•æ“

```javascript
class TimelineExecutor {
  // å°†æ—¶é—´è½´è½¬æ¢ä¸ºä¸‹ä½æœºæŒ‡ä»¤åºåˆ—
  convertToCommands(timelineData) {
    const commands = []

    // æŒ‰æ—¶é—´æ’åºæ‰€æœ‰æ®µ
    const allSegments = this.mergeAndSort(timelineData)

    // ç”Ÿæˆæ—¶åºæŒ‡ä»¤
    for (const segment of allSegments) {
      const duration = (segment.end - segment.start) * 1000 // è½¬æ¯«ç§’
      commands.push({
        channel: segment.channel,
        pumpType: segment.pump,
        pwm: segment.pwm,
        duration: duration
      })
    }

    return commands
  }

  // å®æ—¶è°ƒåº¦å™¨
  async execute(timelineData) {
    const commands = this.convertToCommands(timelineData)

    for (let i = 0; i < config.loopCount; i++) {
      for (const cmd of commands) {
        if (this.isPaused) {
          await this.waitForResume()
        }

        if (this.isStopped) {
          return
        }

        // å‘é€å‘½ä»¤
        await this.sendCommand(cmd)
        this.updateProgress(cmd)

        // ç­‰å¾…æ‰§è¡Œå®Œæˆ
        await this.sleep(cmd.duration)
      }
    }
  }
}
```

---

## ğŸ“Š æ•°æ®ç»“æ„

### æ—¶é—´è½´æ•°æ®æ ¼å¼

```javascript
{
  "version": "1.0",
  "metadata": {
    "name": "æ³¢æµªåŠ¨ç”»",
    "created": "2025-01-15T10:30:00Z",
    "modified": "2025-01-15T14:20:00Z"
  },
  "config": {
    "totalDuration": 10,
    "loopCount": 3,
    "interval": 0.5
  },
  "channels": {
    "ch1": [
      {
        "id": "seg-1",
        "start": 0,
        "end": 2,
        "pump": "air",
        "pwm": 150,
        "color": "#409EFF"
      },
      {
        "id": "seg-2",
        "start": 2,
        "end": 4,
        "pump": "water1",
        "pwm": 200,
        "color": "#67C23A"
      }
    ],
    "ch2": [
      // ç±»ä¼¼ç»“æ„
    ]
  }
}
```

### å¯¼å‡º/å¯¼å…¥æ ¼å¼

- **ä¿å­˜æ ¼å¼**: JSON æ–‡ä»¶
- **æ–‡ä»¶æ‰©å±•å**: `.timeline`
- **é»˜è®¤è·¯å¾„**: `public/timelines/`
- **ç¤ºä¾‹**: `æ³¢æµªåŠ¨ç”».timeline`, `å‘¼å¸æ•ˆæœ.timeline`

---

## ğŸ¨ è§†è§‰è®¾è®¡

### é¢œè‰²æ–¹æ¡ˆ

```javascript
const PUMP_COLORS = {
  air:     '#409EFF',  // è“è‰² - æ°”æ³µ
  water1:  '#67C23A',  // ç»¿è‰² - æ¶²æ³µ1
  water2:  '#E6A23C',  // æ©™è‰² - æ¶²æ³µ2
  off:     '#909399'   // ç°è‰² - åœæ­¢
}

const PUMP_PATTERNS = {
  air:     'diagonal-hatch',     // æ–œçº¿å¡«å……
  water1:  'vertical-hatch',     // ç«–çº¿å¡«å……
  water2:  'horizontal-hatch',   // æ¨ªçº¿å¡«å……
  off:     'solid'                // å®å¿ƒå¡«å……
}
```

### æ—¶é—´æ®µæ ·å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–“â–“â–“ PWM:150       â”‚  â† æ°”æ³µ (è“è‰²æ–œçº¿)
â”‚ ğŸ’¨ 2.0s - 4.0s    â”‚  â† å›¾æ ‡ + æ—¶é—´èŒƒå›´
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠ¨ç”»æ•ˆæœ

- **æ‚¬åœ**: è½»å¾®æ”¾å¤§ + é˜´å½±
- **é€‰ä¸­**: è¾¹æ¡†é«˜äº® + å¤–å‘å…‰
- **æ‰§è¡Œä¸­**: è„‰å†²åŠ¨ç”» + è¿›åº¦æ¡
- **æ‹–æ‹½**: åŠé€æ˜ + è·Ÿéšé¼ æ ‡

---

## ğŸš€ å¼€å‘è®¡åˆ’

### Phase 1: åŸºç¡€æ—¶é—´è½´ (1-2å¤©)
- [ ] åˆ›å»º `TimelinePage.vue` é¡µé¢
- [ ] å®ç° `ChannelTimeline.vue` åŸºç¡€å¸ƒå±€
- [ ] å®ç° `TimeRuler.vue` æ—¶é—´åˆ»åº¦
- [ ] æ·»åŠ ç¬¬ä¸‰ä¸ªé€‰é¡¹å¡

### Phase 2: æ—¶é—´æ®µç¼–è¾‘ (2-3å¤©)
- [ ] å®ç° `TimeSegment.vue` æ—¶é—´æ®µå—
- [ ] å®ç°ç‚¹å‡»ç¼–è¾‘åŠŸèƒ½
- [ ] å®ç°æ‹–æ‹½è°ƒæ•´è¾¹ç•Œ
- [ ] å®ç°æ‹–æ‹½ç§»åŠ¨
- [ ] æ·»åŠ åˆ é™¤/å¤åˆ¶åŠŸèƒ½

### Phase 3: æ‰§è¡Œå¼•æ“ (2-3å¤©)
- [ ] åˆ›å»º `TimelineExecutor` æ‰§è¡Œå™¨
- [ ] å®ç°æ—¶é—´è½´è½¬æŒ‡ä»¤ç®—æ³•
- [ ] å®ç°å®æ—¶è°ƒåº¦é€»è¾‘
- [ ] æ·»åŠ è¿›åº¦æ˜¾ç¤º
- [ ] æ·»åŠ æš‚åœ/ç»§ç»­/åœæ­¢æ§åˆ¶

### Phase 4: ä¿å­˜ä¸åŠ è½½ (1-2å¤©)
- [ ] å®ç°å¯¼å‡º JSON åŠŸèƒ½
- [ ] å®ç°å¯¼å…¥ JSON åŠŸèƒ½
- [ ] æ·»åŠ é¢„è®¾æ¨¡æ¿åº“
- [ ] æ·»åŠ æœ€è¿‘ä½¿ç”¨åˆ—è¡¨

### Phase 5: ä¼˜åŒ–ä¸ç¾åŒ– (1-2å¤©)
- [ ] æ·»åŠ åŠ¨ç”»æ•ˆæœ
- [ ] ä¼˜åŒ–å“åº”å¼å¸ƒå±€
- [ ] æ·»åŠ é”®ç›˜å¿«æ·é”®
- [ ] æ·»åŠ æ’¤é”€/é‡åšåŠŸèƒ½

**æ€»è®¡**: 7-12 å¤©

---

## ğŸ“š æ–‡æ¡£æ›´æ–°

### éœ€è¦æ›´æ–°çš„æ–‡æ¡£

1. **CLAUDE.md**
   - æ·»åŠ æ—¶é—´è½´åŠŸèƒ½è¯´æ˜
   - æ›´æ–° UI è®¾è®¡éƒ¨åˆ†
   - æ›´æ–°ç»„ä»¶å…³ç³»å›¾

2. **docs/UPDATE_v1.6.md** (æ–°å»º)
   - è¯¦ç»†å®ç°è¯´æ˜
   - æŠ€æœ¯ç»†èŠ‚
   - ä½¿ç”¨æŒ‡å—

3. **README.md**
   - æ·»åŠ åŠŸèƒ½ç‰¹æ€§
   - æ›´æ–°æˆªå›¾

---

## ğŸ’¡ ç‰¹è‰²åŠŸèƒ½

### 1. æ™ºèƒ½å»ºè®®

```
å½“ç”¨æˆ·æ·»åŠ æ—¶é—´æ®µæ—¶ï¼š
- ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹é‡å 
- å»ºè®®æœ€ä¼˜æ—¶é—´åˆ†é…
- æç¤ºå¸¸è§åŠ¨ç”»æ¨¡å¼
```

### 2. å®æ—¶é¢„è§ˆ

```
ç¼–è¾‘æ—¶æ˜¾ç¤ºï¼š
- é¢„è®¡æ€»æ—¶é•¿
- æ³µå·¥ä½œæ—¶é•¿ç»Ÿè®¡
- åŠŸç‡æ¶ˆè€—ä¼°ç®—
```

### 3. æ¨¡æ¿åº“

```
é¢„è®¾åŠ¨ç”»æ•ˆæœï¼š
- ğŸŒŠ æ³¢æµªåŠ¨ç”»
- ğŸ’¨ å‘¼å¸æ•ˆæœ
- âœ¨ é—ªçƒæ•ˆæœ
- ğŸ”„ å¾ªç¯æ¸å˜
- ğŸ“ˆ çº¿æ€§å¢åŠ 
```

### 4. å¯è§†åŒ–åé¦ˆ

```
æ‰§è¡Œæ—¶æ˜¾ç¤ºï¼š
- å½“å‰æ—¶é—´æ®µé«˜äº®
- å³å°†æ‰§è¡Œçš„æ®µé¢„é«˜äº®
- å·²å®Œæˆçš„æ®µåŠé€æ˜
- å®æ—¶è¿›åº¦æ¡
```

---

## ğŸ”— ä¸ç°æœ‰åŠŸèƒ½é›†æˆ

### æ•°æ®å…±äº«

```javascript
// å¤ç”¨ç°æœ‰çš„é€šè®¯åè®®
import { sendCommand } from '@/utils/protocol'

// å¤ç”¨ç°æœ‰çš„è®¾å¤‡çŠ¶æ€
import { useDeviceStore } from '@/stores/device'

// æ‰©å±•ç°æœ‰çš„å¾ªç¯æ¨¡å¼
// å¾ªç¯æ¨¡å¼ = æ—¶é—´è½´æ¨¡å¼çš„ç®€åŒ–ç‰ˆæœ¬
```

### ç”¨æˆ·ä½“éªŒ

```
å­¦ä¹ è·¯å¾„ï¼š
1. æ–°ç”¨æˆ·ï¼šä»æŒ‡ä»¤æ¨¡å¼å¼€å§‹
2. è¿›é˜¶ï¼šä½¿ç”¨å¾ªç¯æ¨¡å¼ï¼ˆåˆ—è¡¨å¼ï¼‰
3. é«˜çº§ï¼šä½¿ç”¨æ—¶é—´è½´æ¨¡å¼ï¼ˆå¯è§†åŒ–ï¼‰
```

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

### ç”¨æˆ·å—ç›Š

- âœ… **æ›´ç›´è§‚** - å¯è§†åŒ–æ¯”åˆ—è¡¨æ›´æ˜“ç†è§£
- âœ… **æ›´å¿«é€Ÿ** - æ‹–æ‹½æ¯”å¡«è¡¨æ›´é«˜æ•ˆ
- âœ… **æ›´çµæ´»** - å®æ—¶è°ƒæ•´ï¼Œæ‰€è§å³æ‰€å¾—
- âœ… **æ›´ä¸“ä¸š** - ç±»ä¼¼ä¸“ä¸šè§†é¢‘ç¼–è¾‘è½¯ä»¶

### æŠ€æœ¯æå‡

- âœ… å‰ç«¯å¤æ‚äº¤äº’èƒ½åŠ›
- âœ… å®æ—¶è°ƒåº¦ç®—æ³•å®ç°
- âœ… å¯è§†åŒ–ç¼–ç¨‹æ€ç»´
- âœ… ç”¨æˆ·ä½“éªŒè®¾è®¡

---

**ç‰ˆæœ¬**: v1.6 è§„åˆ’
**çŠ¶æ€**: ğŸ“‹ è§„åˆ’ä¸­
**é¢„è®¡å®Œæˆ**: 7-12 å¤©
**ä¼˜å…ˆçº§**: é«˜ï¼ˆæ ¸å¿ƒåŠŸèƒ½å¢å¼ºï¼‰
